"use strict";(self.webpackChunkaioha_docs=self.webpackChunkaioha_docs||[]).push([[302],{5133:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"framework/svelte","title":"Svelte","description":"Svelte provider for Aioha that uses Svelte\'s context API to provide reactive states in your Svelte components.","source":"@site/docs/framework/svelte.mdx","sourceDirName":"framework","slug":"/framework/svelte","permalink":"/docs/framework/svelte","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/framework/svelte.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"Svelte"},"sidebar":"tutorialSidebar","previous":{"title":"Vue","permalink":"/docs/framework/vue"},"next":{"title":"React UI","permalink":"/docs/react/ui"}}');var s=n(5813),i=n(5155);const r={sidebar_position:8,title:"Svelte"},a="Svelte Provider",l={},c=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Using Events",id:"using-events",level:2},{value:"SSR Apps",id:"ssr-apps",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"svelte-provider",children:"Svelte Provider"})}),"\n",(0,s.jsxs)(t.p,{children:["Svelte provider for Aioha that uses Svelte's ",(0,s.jsx)(t.a,{href:"https://svelte.dev/docs/svelte/context",children:"context API"})," to provide reactive states in your Svelte components."]}),"\n",(0,s.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"pnpm i @aioha/providers @aioha/aioha\n"})}),"\n",(0,s.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Initialize Aioha and setup provider at the root of your application. This is usually done in ",(0,s.jsx)(t.code,{children:"App.svelte"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-html",metastring:'title="src/App.svelte"',children:"<script lang=\"ts\">\n  import { AiohaProvider } from '@aioha/providers/svelte'\n  import { initAioha } from '@aioha/aioha'\n\n  const aioha = initAioha()\n  // ...\n<\/script>\n\n<AiohaProvider {aioha}>\n  <TheRestOfYourApplication />\n</AiohaProvider>\n"})}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["Use Aioha anywhere within ",(0,s.jsx)(t.code,{children:"AiohaProvider"})," through Svelte's ",(0,s.jsx)(t.code,{children:"getContext()"})," function."]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-html",metastring:'title="src/components/AiohaPage.svelte"',children:"<script lang=\"ts\">\n  import { getContext } from 'svelte'\n  import { AiohaCtxKey, type AiohaContext } from '@aioha/providers/svelte'\n\n  const ctx = getContext<AiohaContext>(AiohaCtxKey)\n  // ...\n<\/script>\n\n<p>Current User: {ctx.user}</p>\n<p>Current Provider: {ctx.provider}</p>\n{#each Object.entries(ctx.otherUsers) as [key, value]}\n  <p>{key}: {value}</p>\n{/each}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"using-events",children:"Using Events"}),"\n",(0,s.jsxs)(t.p,{children:["Listen for ",(0,s.jsx)(t.a,{href:"/docs/core/jsonrpc#events",children:"events"})," using lifecycle functions within Svelte components."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-html",metastring:'title="src/components/YourComponent.svelte"',children:"<script lang=\"ts\">\n  import { getContext, onMount } from 'svelte'\n  import { AiohaCtxKey, type AiohaContext } from '@aioha/providers/svelte'\n\n  const ctx = getContext<AiohaContext>(AiohaCtxKey)\n\n  const handler = () => {\n    // handle your event here\n  }\n\n  onMount(() => {\n    ctx.aioha.on('sign_tx_request', handler)\n\n    return () => ctx.aioha.off('sign_tx_request', handler)\n  })\n  // ...\n<\/script>\n"})}),"\n",(0,s.jsx)(t.h2,{id:"ssr-apps",children:"SSR Apps"}),"\n",(0,s.jsxs)(t.p,{children:["If you are using a framework that uses SSR (server-side rendering) such as SvelteKit, you may need to setup Aioha separately in a ",(0,s.jsx)(t.code,{children:"onMount()"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-html",metastring:'title="src/App.svelte"',children:"<script lang=\"ts\">\n  import { AiohaProvider } from '@aioha/providers/svelte'\n  import { Aioha } from '@aioha/aioha'\n\n  const aioha = new Aioha()\n\n  onMount(() => {\n    // See options: https://aioha.dev/docs/core/usage#instantiation\n    aioha.setup()\n  })\n  // ...\n<\/script>\n\n<AiohaProvider {aioha}>\n  <TheRestOfYourApplication />\n</AiohaProvider>\n"})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},5155:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var o=n(9729);const s={},i=o.createContext(s);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);